<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="../../style.css">
  <title>VR Puzzle Game - Project Details</title>
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="../../index.html">Daamin Nacer</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="../../index.html">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="../../../About/index.html">About</a></li>
          <li class="nav-item"><a class="nav-link active" aria-current="page" href="../../../Work/index.html">Work</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="vh-50 d-flex align-items-center justify-content-center text-center bg-dark text-white">
    <div class="container">
      <h1 class="display-4 fw-bold">Ludem Locus</h1>
      <p class="lead mx-auto" style="max-width: 700px;">
        Explore the mechanics, code, and interactive VR experience behind my vr puzzle game.
      </p>
    </div>
  </header>

  <!-- Project Description -->
  <section class="container my-5">
    <h2>Project Overview</h2>
    <p>
      This VR Puzzle game features multiple randomly spawned puzzles, keypad interactions, and a collectible key mechanic. Players solve keypad codes and collect chess-themed pieces to unlock the final objective.
    </p>
  </section>

  <!-- Gameplay Section -->
  <section class="container my-5">
    <h2>Gameplay Preview</h2>
    <div class="row">
      <video src="../../../Media/com.app.daamin-20230627-081956.mp4" autoplay loop muted class="img-fluid"></video>
    </div>
  </section>

  <!-- Key Scripts Section -->
  <section class="container my-5">
    <h2>Button Interaction</h2>
    <p>Handles individual button presses for the VR keypad.</p>
    <pre class="bg-light p-3 border"><code>
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ButtonController : MonoBehaviour
{
    public string buttonValue;
    public KeypadController keypadController;

    private void OnTriggerExit(Collider other)
    {
        if (other.tag == "Finger" || other.CompareTag("Controller"))
        {
            keypadController.PressButton(buttonValue);
        }
    }
}
    </code></pre>
  </section>

  <section class="container my-5">
    <h2>Clear & Confirm Buttons</h2>
    <p>Special buttons for clearing input or confirming code entry.</p>
    <pre class="bg-light p-3 border"><code>
// Clear Button
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ClearButton : MonoBehaviour
{
    public KeypadController keypadController;

    private void OnTriggerEnter(Collider other)
    {
        if (other.tag == "Finger" || other.CompareTag("Controller"))
        {
            keypadController.Clear();
        }
    }
}

// Confirm Button
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class ConfirmButton : MonoBehaviour
{
    public KeypadController keypadController;

    private void OnTriggerEnter(Collider other)
    {
        if (other.CompareTag("Finger") || other.CompareTag("Controller"))
        {
            keypadController.Confirm();
        }
    }
}
    </code></pre>
  </section>

  <section class="container my-5">
    <h2>Game & Keypad Management</h2>
    <p>Randomly spawns puzzles and manages keypad input validation, feedback, and key activation.</p>
    <pre class="bg-light p-3 border"><code>
using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using TMPro;

public class KeypadController : MonoBehaviour
{
    public string correctCode;
    public TextMesh displayText;
    private string enteredCode = "";
    public GameObject Key;
    public GameObject table;
    public AudioClip buttonPress, codeWrong, codeCorrect;

    public void PressButton(string buttonValue)
    {
        if (enteredCode.Length <= 3)
        {
            enteredCode += buttonValue;
            displayText.text = enteredCode;
            GetComponent<AudioSource>().playOnAwake = false;
            GetComponent<AudioSource>().clip = buttonPress;
            GetComponent<AudioSource>().Play();
        }
    }

    public void Confirm()
    {
        if (enteredCode == correctCode)
        {
            displayText.text = "Turn Around";
            GetComponent<AudioSource>().clip = codeCorrect;
            GetComponent<AudioSource>().Play();
            table.SetActive(true);
            Key.SetActive(true);
            Invoke("Destroy", 20f);
        }
        else
        {
            displayText.text = "Incorrect";
            GetComponent<AudioSource>().clip = codeWrong;
            GetComponent<AudioSource>().Play();
            Invoke("Clear", 2f);
        }
    }

    void Destroy() => Destroy(table);

    public void Clear()
    {
        enteredCode = "";
        displayText.text = "";
    }
}
    </code></pre>
  </section>

  <section class="container my-5">
    <h2>Win Condition & Key Collection</h2>
    <p>Tracks collected keys, updates the timer, and triggers particle effects upon winning.</p>
    <pre class="bg-light p-3 border"><code>
using UnityEngine;
using TMPro;

public class win : MonoBehaviour
{
    private int keys = 0;
    public GameObject wKing, bKing, wQueen, bQueen;
    public TMP_Text timerText, arrowText;
    private float secondsCount;
    private int minuteCount, hourCount;
    public AudioClip pointUp, Winner;
    public GameObject effect;

    void Update() { UpdateTimerUI(); }

    public void UpdateTimerUI()
    {
        if (keys < 4)
        {
            secondsCount += Time.deltaTime;
            timerText.text = "Your Time " + hourCount + "h:" + minuteCount + "m:" + (int)secondsCount + "s";
            if (secondsCount >= 60) { minuteCount++; secondsCount = 0; }
            if (minuteCount >= 60) { hourCount++; minuteCount = 0; }
        }
    }

    private void OnTriggerEnter(Collider other)
    {
        if (other.tag == "wKing") ActivatePiece(wKing, other.gameObject);
        if (other.tag == "bKing") ActivatePiece(bKing, other.gameObject);
        if (other.tag == "wQueen") ActivatePiece(wQueen, other.gameObject);
        if (other.tag == "bQueen") ActivatePiece(bQueen, other.gameObject);

        if (keys == 4) Win();
    }

    private void ActivatePiece(GameObject piece, GameObject other)
    {
        piece.SetActive(true);
        Destroy(other);
        GetComponent<AudioSource>().playOnAwake = false;
        GetComponent<AudioSource>().clip = pointUp;
        GetComponent<AudioSource>().Play();
        keys++;
    }

    private void Win()
    {
        GetComponent<AudioSource>().clip = Winner;
        GetComponent<AudioSource>().Play();
        effect.SetActive(true);
        timerText.gameObject.SetActive(true);
        arrowText.gameObject.SetActive(true);
    }
}
    </code></pre>
  </section>

  <!-- Footer -->
  <footer class="footer bg-dark text-white py-4">
    <div class="container text-center">
      <p>&copy; 2025 Daamin Nacer. All rights reserved.</p>
    </div>
  </footer>

</body>

</html>
